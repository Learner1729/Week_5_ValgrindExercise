# Week 5 Valgrind Exercise

This repository is created to complete week 5 valgrind assignment of ENPM808X: Software Development of Robotics ME Coursework.

Name: Ashish Patel <br/>
UID: 115730625

## Steps followed to setup this repository:

**1.** Cloned cpp-boilerplate respository using `git clone --recursive <url>` command. <br/>
**2.** Change directory to cpp-boilerplate. <br/>
**3.** Check all the branch using `git branch -a` command. <br/>
**4.** Checkout valgrind_exercise branch using `git checkout` command. <br/>
**5.** Created a new repository for this assignment on my github profile and copied the url. <br/>
**6.** Pushed the checkout branch of local repository to my remote repository created in step 5. To do that, I changed the remote version of my local github repository using `git remote set-url origin <url>` command. <br/>
**7.** At this point, I am working on valgrind_exercise branch on my local repository, whatever modifications that I did in this repository, was pushed to my remote repository which was setup above. <br/>

Rest of the steps are pretty self explanatory using my git commit logs.

>Note: All the outputs related to valgrind are stored in logfiles folder, and linked in Output section below. Output related to cpplint and cppcheck are stored in results folder. Moreover, I havn't followed Doxygen commenting for this assignment as such code was not built by me and used C++11 syntax only where the bugs were detected.
  
## Outputs

**1.** Identified two buys in the program before updating it. [Output Text file](/logfiles/beforeUpdating.txt) <br/>
**2.** Fixed the buys and reruned valgrind command. [Output Text file](/logfiles/afterUpdating.txt) <br/>
**3.** Ran the valgrind function profiler using **callgrind tool**. When the command was run, it spited a file in the same directory that is in build directory, that file was copied into logfiles folder. Then a callgrind data visulization tool named [kcachegrind](https://kcachegrind.github.io/html/Home.html) was downloaded, to obtain GUI visualization of the flow of our program based on the output file generated by callgrind tool. Command to download kcachegrind tool: `sudo apt-get install kcachegrind`. The screensort of the profiler output can be accessed by clicking on this [link](/logfiles/function_runtime_profiler). <br/>
**4.** Next, valgrind's **massif tool** was used to get memory (heap) profile. It also spited a file in the same directory as callgrind tool, but it uses different visualization tool. For this, I was needed to download [Massif visualizer](https://www.linux-apps.com/p/1127160/). The screenshot of the heap profile can be accessed by clicking on this [link](/logfiles/memory_profile). Alternatively, to see the information gathered by Massif in an easy-to-read form, we can use `ms_print massif.out.<pid>` command. Output of this command is stored in a text file. [Output text file](/logfiles/massifOutput.txt)
>Note: I talked about massif visualization tool during office hour on 10/1/2018 (Monday).

## Standard install via command-line
```
git clone --recursive https://github.com/Learner1729/Week_5_ValgrindExercise.git
cd <path to repository>
mkdir build
cd build
cmake ..
make
Run tests: ./test/cpp-test
Run program: ./app/shell-app
```

